<!DOCTYPE html>
<html lang='en'>
<head>
  <!-- meta data -->
  <meta charset="UTF-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="For class I made my first Arduino project! A small controller with an lcd in the center, like a prehistoric Gameboy....">
  <meta name="keywords" content="Game Development, Portfolio, 3D, Programmer, Code, Software">
  <meta name="author" content="Nazaire Shabazz">

  <meta property="og:title" content="IGME 470 First Project - Nazaire Shabazz"/>
  <meta property="og:description" content="For class I made my first Arduino project! A small controller with an lcd in the center, like a prehistoric Gameboy...."/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="http://nqshabazz.com/igme-470-first-project"/>
  <meta property="og:image" content="http://nqshabazz.com/assets/images/igme-470-first-project/top-image.png"/>
  <meta property="og:locale:alternate" content="es_ES"/>
  
  <meta property="fb:app_id" content="966242223397117"/>

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@nqshabazz">
  <meta name="twitter:creator" content="@nqshabazz">
  <meta name="twitter:title" content="IGME 470 First Project - Nazaire Shabazz">
  <meta name="twitter:description" content="For class I made my first Arduino project! A small controller with an lcd in the center, like a prehistoric Gameboy...."/>
  <meta name="twitter:image" content="http://nqshabazz.com/assets/images/igme-470-first-project/top-image.png">

  <!-- meta links -->
  <link rel="publisher" href="https://plus.google.com/u/0/111346714509241869686"/>
  <link rel="canonical" href="/"/>
  <link rel="shortcut icon" type="image/png" href="../assets/images/favicon.png"/>
  
  <!-- title -->
  <title>IGME 470 First Project - Nazaire Shabazz</title>
  
  <!--Bootstrap CSS content delivery network-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  
  <!--jQuery JS content delivery network-->
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  
  <!--Tether JS content delivery network (for Bootstrap code highlighting)-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
  
  <!--Bootstrap JS content delivery network-->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
  
  <!--FontAwesome CSS content delivery network-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  
  <!--Google Font Open Sans Font-Family-->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  
  <!--my css-->
  <link rel="stylesheet" href="../assets/css/style-default.css">
  
  <script>
    $(window).on('load',function(){
      $('[data-toggle="popover"]').popover();
    });
  </script>
</head>
<body>
  <nav id='topbar' role="navigation">
    <a href='../'>
      <img alt="my logo" src="..//assets/images/header-image.png"/>
      <span class="sr-only">To Home</span>
    </a>
  </nav>
  <div id="topOfPage"></div>
  <a class="fa fa-2x fa-chevron-up text-white" id="toTopButton" href="#topOfPage"></a>
  <main id="post-page">
    <article id='blog-post' class='m-auto'>
      <h1 class="default-box" id="front-page-introduction">IGME 470 First Project</h1>
      <p class="text-muted">
        by Nazaire Shabazz | <time datetime="2018-02-12T10:21:25-05:00" title="2/12/18 10:21:25 am">2/12/18 10:21:25 am</time>
      </p>
      <p id="post-tags">
        <a class='badge badge-default' href='../#igme470'>igme470</a><a class='badge badge-default' href='../#arduino'>arduino</a><a class='badge badge-default' href='../#.2018'>.2018</a><a class='badge badge-default' href='../#.february'>.february</a>      </p>
      <hr class="default-box" id="front-page-loading-bar" />
      <img src="../assets/images/igme-470-first-project/top-image.png"/>
      <div id="content-container" class="bg-faded">
        <p>For class I made my first Arduino project! A small controller with an lcd in the center, like a prehistoric Gameboy.</p>
        
        <iframe style="width: 100%; height: calc(50vw * 0.5625); min-height: 300px;" src="https://www.youtube.com/embed/DvrxcmPUNXM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        
        <p>For this part I had to do just a bit of coding. It was also necessary to make the Button and Joystick classes, which was a fun learning experience. Here's what I wrote:</p>
        
        <a class="btn btn-primary btn-lg text-white" id="mainCodeHeading" data-toggle="collapse" data-target="#mainCode" aria-expanded="false" aria-controls="mainCode">+ main.ino</a>
        <div id="mainCode" class="collapse" aria-labelledby="mainCodeHeading">
          <code>
            <pre class="card card-body">
            
              #include&lt;LiquidCrystal.h&gt;
              #include&lt;Button.h&gt;
              #include&lt;Joystick.h&gt;

              unsigned long timeStamp=0;
              unsigned int delta=0;
              const unsigned int deltaTarget=17; // 1/60 seconds, in milliseconds

              Joystick jStick(A0,A1,A2);

              LiquidCrystal lcd(2,3,4,5,6,9);

              const unsigned int lbPin=13;
              const unsigned int lbLED=11;
              Button lButton(lbPin,true);;
              const unsigned int rbPin=12;
              const unsigned int rbLED=10;
              Button rButton(rbPin,true);

              void setup() {
                jStick.rotate();
                jStick.flipX();
                pinMode(A3, OUTPUT);
                analogWrite(A3, 0);

                lcd.begin(16,2);
                lcd.setCursor(0,0);
                lcd.print("DERP");

                pinMode(lbLED,OUTPUT);
                pinMode(rbLED,OUTPUT);

                Serial.begin(9600);
              }

              void loop() {
                delta=millis()-timeStamp;
                timeStamp=millis();

                jStick.loop(delta);
                lButton.loop(delta);
                rButton.loop(delta);

                if(delta>=deltaTarget){
                  if(lButton.reloadAmount>=lButton.reloadTime)
                    analogWrite(lbLED,16);
                  else
                    analogWrite(lbLED,4*lButton.reloadAmount/lButton.reloadTime);

                  if(rButton.reloadAmount>=rButton.reloadTime)
                    analogWrite(rbLED,16);
                  else
                    analogWrite(rbLED,4*rButton.reloadAmount/rButton.reloadTime);

                  lcd.clear();
                  lcd.print("X:"+String(jStick.xAxis)+", Y:"+String(jStick.yAxis)+", B:"+String(jStick.pressed));
                  lcd.setCursor(0,1);
                  lcd.print("B0:"+String(lButton.pressed)+", B1:"+String(rButton.pressed));

                  analogWrite(A3, jStick.xAxis*1.2);
                }

               // Serial.println(String(digitalRead(13))+String(rButton.pressed)+" ... "+String(rButton.reloadAmount)+", "+String(rButton.reloadTime));
              }
            </pre>
          </code>
        </div>
        
        <a class="btn btn-primary btn-lg text-white" id="buttonHHeading" data-toggle="collapse" data-target="#buttonH" aria-expanded="false" aria-controls="buttonH">+ Button.h</a>
        <div id="buttonH" class="collapse" aria-labelledby="buttonHHeading">
          <code>
            <pre class="card card-body">
            
              #ifndef Button_h
              #define Button_h

              #include "Arduino.h"

              class Button{
                public:
                  Button(unsigned int pin);
                  Button(unsigned int pin,bool pullup);
                  void loop(unsigned int delta);
                  bool pressed;
                  bool justPressed;
                  unsigned int reloadAmount;
                  unsigned int reloadTime;
                private:
                  unsigned int _pin;
                  bool _pullup;
              };

              #endif
            </pre>
          </code>
        </div>
        
        <a class="btn btn-primary btn-lg text-white" id="ButtonCPPHeading" data-toggle="collapse" data-target="#ButtonCPP" aria-expanded="false" aria-controls="ButtonCPP">+ Button.cpp</a>
        <div id="ButtonCPP" class="collapse" aria-labelledby="ButtonCPPHeading">
          <code>
            <pre class="card card-body">
            
              #include "Arduino.h"
              #include "Button.h"

              Button::Button(unsigned int pin){
                pinMode(pin,INPUT);
                _pin=pin;
                _pullup=false;
                pressed=false;
                justPressed=false;
                reloadTime=3000;
                reloadAmount=reloadTime;
              }

              Button::Button(unsigned int pin,bool pullup){
                pinMode(pin,pullup?INPUT_PULLUP:INPUT);
                _pin=pin;
                _pullup=pullup;
                pressed=false;
                justPressed=false;
                reloadTime=3000;
                reloadAmount=reloadTime;
              }

              void Button::loop(unsigned int delta){
                pressed=_pullup?!digitalRead(_pin):digitalRead(_pin);
                Serial.println("pin "+String(_pin)+", "+String(_pullup)+", "+String(digitalRead(_pin)));

                if(reloadAmount&lt;=reloadTime){
                  reloadAmount+=delta;
                  justPressed=false;
                }else if(pressed){
                  justPressed=true;
                  reloadAmount=0;
                }
              }
            </pre>
          </code>
        </div>
        
        <a class="btn btn-primary btn-lg text-white" id="JoystickHHeading" data-toggle="collapse" data-target="#JoystickH" aria-expanded="false" aria-controls="JoystickH">+ Joystick.h</a>
        <div id="JoystickH" class="collapse" aria-labelledby="JoystickHHeading">
          <code>
            <pre class="card card-body">
            
            #ifndef Joystick_h
            #define Joystick_h

            #include "Arduino.h"

            class Joystick{
              public:
                Joystick(unsigned int xPin,unsigned int yPin);
                Joystick(unsigned int xPin,unsigned int yPin,unsigned int bPin);
                void loop(unsigned int delta);
                void rotate();
                void flipX();
                void flipY();
                unsigned int xAxis;
                unsigned int yAxis;
                bool pressed;
                bool justPressed;
              private:
                unsigned int _xPin;
                unsigned int _yPin;
                unsigned int _bPin;
                bool _flipX;
                bool _flipY;
            };

            #endif
            </pre>
          </code>
        </div>
        
        <a class="btn btn-primary btn-lg text-white" id="JoystickCPPHeading" data-toggle="collapse" data-target="#JoystickCPP" aria-expanded="false" aria-controls="JoystickCPP">+ Joystick.cpp</a>
        <div id="JoystickCPP" class="collapse" aria-labelledby="JoystickCPPHeading">
          <code>
            <pre class="card card-body">
            
              #include "Arduino.h"
              #include "Joystick.h"

              Joystick::Joystick(unsigned int xPin,unsigned int yPin){
                pinMode(xPin,INPUT);
                pinMode(yPin,INPUT);
                _xPin=xPin;
                _yPin=yPin;
                _bPin=-1;
                xAxis=0;
                yAxis=0;
                pressed=false;
                justPressed=false;
                _flipX = false;
                _flipY = false;
              }

              Joystick::Joystick(unsigned int xPin,unsigned int yPin,unsigned int bPin){
                pinMode(xPin,INPUT);
                pinMode(yPin,INPUT);
                pinMode(bPin,INPUT_PULLUP);
                _xPin=xPin;
                _yPin=yPin;
                _bPin=bPin;
                xAxis=0;
                yAxis=0;
                pressed=false;
                justPressed=false;
                _flipX=false;
                _flipY=false;
              }

              void Joystick::loop(unsigned int delta){
                bool wasPressed=pressed;

                pressed=_bPin==-1?false:!digitalRead(_bPin);

                if(!wasPressed && pressed)
                  justPressed=true;
                else
                  justPressed=false;

                xAxis=_flipX?map(analogRead(_xPin),0,1023,99,0):map(analogRead(_xPin),0,1023,0,99);
                yAxis=_flipY?map(analogRead(_yPin),0,1023,99,0):map(analogRead(_yPin),0,1023,0,99);
              }

              void Joystick::rotate(){
                  unsigned int k=_xPin;
                  _xPin=_yPin;
                  _yPin=k;
              }

              void Joystick::flipX(){
                  _flipX=!_flipX;
              }
              void Joystick::flipY(){
                  _flipY=!_flipY;
              }
            </pre>
          </code>
        </div>
      </div>
            <address class="bg-faded">
        questions / suggestions? Get in touch:
        <p>
          <a href="https://twitter.com/lilacsnacc" rel="nofollow" target="_blank" ><span class="fa fa-twitter"></span> @lilacsnacc</a> |
          <a href="mailto:nqshabazz@gmail.com">nqshabazz@gmail.com</a>
        </p>
      </address>      <script>
        
      </script>
    </article>
  </main>
  <footer class='footer'>
    <p id="social-media-footer">
      <a class='fa fa-2x fa-twitter' href="https://twitter.com/lilacsnacc" rel="nofollow" target="_blank" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="Twitter"><span class="sr-only">Twitter</span></a>
      <a class='fa fa-2x fa-youtube-play' href="https://www.youtube.com/channel/UCeg8SXBwjJ3SHyAqLhvyoTg" rel="nofollow" target="_blank" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="YouTube"><span class="sr-only">YouTube</span></a>
      <a class='fa fa-2x fa-github-alt' href="https://github.com/lilacsnacc" rel="nofollow" target="_blank" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="Github"><span class="sr-only">Github</span></a>
      <a class='fa fa-2x fa-linkedin' href="https://www.linkedin.com/in/nqshabazz/" rel="nofollow" target="_blank" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="LinkedIn"><span class="sr-only">LinkedIn</span></a>
      <a class='fa fa-2x fa-envelope' href='mailto:lilacsnacc@gmail.com' data-toggle="popover" data-trigger="hover" data-placement="top" data-content="lilacsnacc@gmail.com"><span class="sr-only">Email</span></a>
    </p>
    <p>&copy; Nazaire Shabazz / Lilac Snacc LLC 2020</p>
  </footer>
  <script>
    document.body.classList.add("loaded");
    
    window.onload = function(){
      let anchorArray = document.getElementsByTagName("a");
      var index = anchorArray.length;

      while(index--){
        let anchorTarget = anchorArray[index].getAttribute("href");
        
        if(anchorTarget && anchorTarget.startsWith("#")){
          let anch = anchorArray[index];
          
          anch.addEventListener("click", function(event) {
            event.preventDefault();
            smoothScroll(anchorTarget.substring(1));
          });
        }
      }

      if (location.hash) {
        setTimeout(function() {
          window.scrollTo(0, 0);
          smoothScroll(location.hash.substring(1))
        }, 1);
      }
    };
    
    function smoothScroll(target){
      let elem = document.getElementById(target);
      
      if(elem)
        $('html, body').animate({scrollTop: elem.offsetTop}, 250);
    }
  </script>
</body>
</html>